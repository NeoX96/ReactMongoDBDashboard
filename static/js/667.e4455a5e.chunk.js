"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[667],{9878:function(e,r,n){var t=n(3433),o=n(4165),i=n(5861),a=n(9439),c=n(2949),s=n(1607),u=n(3967),l=n(2791),d=n(8846),f=n(184);r.Z=function(e){var r=e.isDashboard,n=void 0!==r&&r,p=(0,u.Z)(),h=(0,s.TV)(p.palette.mode),x=(0,l.useState)([]),g=(0,a.Z)(x,2),m=g[0],v=g[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:r=e.sent,v(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.kv)((function(e){var r=m.findIndex((function(r){return r.id===e.ShopName}));if(r>=0){var n=(0,t.Z)(m);n[r]={id:e.ShopName,value:e.Revenue},v(n)}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.length>0&&e()}),[m]),(0,f.jsx)(c.jM,{data:m,theme:{axis:{domain:{line:{stroke:h.grey[100]}},legend:{text:{fill:h.grey[100]}},ticks:{line:{stroke:h.grey[100],strokeWidth:1},text:{fill:h.grey[100]}}},legends:{text:{fill:h.grey[100]}},tooltip:{container:{background:h.grey[900],color:h.grey[100]}}},margin:{top:30,right:40,bottom:50,left:70},padding:.4,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"value"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker","1.6"]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:n?void 0:"Shop Name",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:n?void 0:"Einnahmen",legendPosition:"middle",legendOffset:-55},enableLabel:!0,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15})}},657:function(e,r,n){var t=n(3433),o=n(4165),i=n(5861),a=n(9439),c=n(2242),s=n(1607),u=n(3967),l=n(2791),d=n(8846),f=n(184);r.Z=function(){var e=(0,u.Z)(),r=(0,s.TV)(e.palette.mode),n=(0,l.useState)([{id:"0",value:0}]),p=(0,a.Z)(n,2),h=p[0],x=p[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:r=e.sent,x(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.kv)((function(e){var r=h.findIndex((function(r){return r.id===e.ShopName}));if(r>=0){var n=(0,t.Z)(h);n[r]={id:e.ShopName,value:e.Revenue},x(n)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h.length>0&&e()}),[h]),(0,f.jsx)(c.mj,{data:h,theme:{axis:{domain:{line:{stroke:r.grey[100]}},legend:{text:{fill:r.grey[100]}},ticks:{line:{stroke:r.grey[100],strokeWidth:1},text:{fill:r.grey[100]}}},legends:{text:{fill:r.grey[100]}},tooltip:{container:{background:r.grey[900],color:r.grey[100]}}},margin:{top:5,right:5,bottom:20,left:20},valueFormat:">-.3s",colors:{scheme:"paired"},borderWidth:8,labelColor:{from:"color",modifiers:[["darker",3]]},beforeSeparatorLength:5,beforeSeparatorOffset:5,afterSeparatorLength:5,afterSeparatorOffset:5,currentPartSizeExtension:15,currentBorderWidth:8,motionConfig:"wobbly"})}},7084:function(e,r,n){var t=n(3967),o=n(4554),i=n(890),a=n(1607),c=n(184);r.Z=function(e){var r=e.title,n=e.subtitle,s=(0,t.Z)(),u=(0,a.TV)(s.palette.mode);return(0,c.jsxs)(o.Z,{mb:"30px",children:[(0,c.jsx)(i.Z,{variant:"h2",color:u.grey[100],fontWeight:"bold",sx:{m:"0 0 5px 0"},children:r}),(0,c.jsx)(i.Z,{variant:"h5",color:u.greenAccent[400],children:n})]})}},1329:function(e,r,n){var t=n(3433),o=n(4165),i=n(5861),a=n(9439),c=n(3830),s=n(1607),u=n(3967),l=n(2791),d=n(8846),f=n(184);r.Z=function(e){var r=e.isDashboard,n=void 0!==r&&r,p=(0,u.Z)(),h=(0,s.TV)(p.palette.mode),x=(0,l.useState)([]),g=(0,a.Z)(x,2),m=g[0],v=g[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:r=e.sent,v(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.kv)((function(e){var r=m.findIndex((function(r){return r.id===e.ShopName}));if(r>=0){var n=(0,t.Z)(m);n[r]={id:e.ShopName,value:e.Revenue},v(n)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.length>0&&e()}),[m]),(0,f.jsx)(c.Y2,{data:m,theme:{fontSize:n?12:14,axis:{domain:{line:{stroke:h.grey[100]}},legend:{text:{fill:h.grey[100]}},ticks:{line:{stroke:h.grey[100],strokeWidth:1},text:{fill:h.grey[100]}}},legends:{text:{fill:h.grey[100]}},tooltip:{container:{background:h.grey[900],color:h.grey[100]}}},margin:{top:n?20:30,right:n?110:80,bottom:n?20:80,left:n?140:80},innerRadius:.5,padAngle:.7,cornerRadius:5,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:n?12:9,arcLinkLabelsTextColor:h.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,colors:{scheme:"paired"},legends:n?[]:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:120,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:14,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})}},8846:function(e,r,n){n.d(r,{Df:function(){return Z},G:function(){return v},gf:function(){return y},kv:function(){return g}});var t=n(4165),o=n(5861),i=n(6296),a=n(2178),c="DBDatabase",s="Top10",u="10Shops",l=new a.gV("data-uilqj"),d=a.cN.apiKey("7PodJEFumzYtvIBgsWkiBMp5N1ifzHkrRMO9XTvRSxVBH5TIq5kJdXhLxE7RKWKM");function f(){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=4;break}return console.error("app is not defined"),e.abrupt("return");case 4:return e.next=6,l.logIn(d);case 6:return(n=e.sent).id!==(null===(r=l.currentUser)||void 0===r?void 0:r.id)&&console.error("User is not logged in"),console.log("User logged in:",n),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to log in",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function h(){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,t.Z)().mark((function e(){var r,n,o,i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=l.currentUser)||void 0===r){e.next=4;break}e.t0=r,e.next=7;break;case 4:return e.next=6,f();case 6:e.t0=e.sent;case 7:if(n=e.t0,o=n.mongoClient(c),i=o.db(s)){e.next=12;break}throw new Error("Failed to connect to database ".concat(s));case 12:if(a=i.collection(u)){e.next=15;break}throw new Error("Failed to connect to collection ".concat(u));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)((0,t.Z)().mark((function e(r){var n,o,a,c,s,u,l,d,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:return n=e.sent,e.next=6,n.watch();case 6:o=e.sent,a=!1,c=!1,e.prev=9,u=(0,i.Z)(o);case 11:return e.next=13,u.next();case 13:if(!(a=!(l=e.sent).done)){e.next=23;break}return d=l.value,e.next=17,n.findOne({_id:d.documentKey._id});case 17:f=e.sent,"function"===typeof r&&r(f),console.log("Data changed:",f);case 20:a=!1,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(9),c=!0,s=e.t0;case 29:if(e.prev=29,e.prev=30,!a||null==u.return){e.next=34;break}return e.next=34,u.return();case 34:if(e.prev=34,!c){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",(function(){o.close()}));case 42:e.prev=42,e.t1=e.catch(0),console.error("Failed to watch collection",e.t1);case 45:case"end":return e.stop()}}),e,null,[[0,42],[9,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function v(){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return r=e.sent,e.next=5,r.aggregate([{$sort:{Revenue:-1}},{$project:{_id:0,id:"$ShopName",label:"$ShopName",value:"$Revenue"}}]);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return r=e.sent,e.next=5,r.aggregate([{$group:{_id:null,sum:{$sum:"$Revenue"}}}]);case 5:return n=e.sent,e.abrupt("return",n[0].sum);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return r=e.sent,e.next=5,r.aggregate([{$project:{ShopName:1,Country:1,Revenue:1,Year:1}},{$sort:{Revenue:-1}}]);case 5:return n=e.sent,console.log("DataShops:",n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9667:function(e,r,n){n.r(r),n.d(r,{default:function(){return C}});var t=n(3433),o=n(4165),i=n(5861),a=n(9439),c=n(3967),s=n(2791),u=n.t(s,2),l=n(9120),d=n(1537),f=n(162);function p(e,r,n,t,o){var i=s.useState((function(){return o&&n?n(e).matches:t?t(e).matches:r})),c=(0,a.Z)(i,2),u=c[0],l=c[1];return(0,f.Z)((function(){var r=!0;if(n){var t=n(e),o=function(){r&&l(t.matches)};return o(),t.addListener(o),function(){r=!1,t.removeListener(o)}}}),[e,n]),u}var h=u.useSyncExternalStore;function x(e,r,n,t,o){var i=s.useCallback((function(){return r}),[r]),c=s.useMemo((function(){if(o&&n)return function(){return n(e).matches};if(null!==t){var r=t(e).matches;return function(){return r}}return i}),[i,e,t,o,n]),u=s.useMemo((function(){if(null===n)return[i,function(){return function(){}}];var r=n(e);return[function(){return r.matches},function(e){return r.addListener(e),function(){r.removeListener(e)}}]}),[i,n,e]),l=(0,a.Z)(u,2),d=l[0],f=l[1];return h(f,d,c)}var g=n(4554),m=n(890),v=n(533),b=n(1607),Z=n(7084),k=n(9878),y=n(1329),w=n(657),j=n(8846),S=n(184),C=function(){var e=(0,c.Z)(),r=(0,b.TV)(e.palette.mode),n=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,l.Z)(),t="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,o=(0,d.Z)({name:"MuiUseMediaQuery",props:r,theme:n}),i=o.defaultMatches,a=void 0!==i&&i,c=o.matchMedia,s=void 0===c?t?window.matchMedia:null:c,u=o.ssrMatchMedia,f=void 0===u?null:u,g=o.noSsr,m=void 0!==g&&g,v="function"===typeof e?e(n):e;return v=v.replace(/^@media( ?)/m,""),(void 0!==h?x:p)(v,a,s,f,m)}("(max-width:768px)"),u=(0,s.useState)([]),f=(0,a.Z)(u,2),C=f[0],R=f[1],M=(0,s.useState)(0),W=(0,a.Z)(M,2),L=W[0],N=W[1],D=(0,s.useState)(!1),E=(0,a.Z)(D,2),A=E[0],T=E[1],z=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.gf)();case 2:return r=e.sent,e.next=5,(0,j.Df)();case 5:n=e.sent,console.log("inital: ",r),R(r),N(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,j.kv)((function(e){var r=C.findIndex((function(r){return r.ShopName===e.ShopName}));if(console.log("ShopUpdated",r),r>=0){var n=(0,t.Z)(C);n[r]=e,R(n),T(!0)}})),!A){e.next=7;break}return e.next=4,(0,j.Df)();case 4:r=e.sent,N(r),T(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){z()}),[]),(0,s.useEffect)((function(){C.length>0&&B()}),[C,B]),(0,S.jsxs)(g.Z,{m:"20px",children:[(0,S.jsx)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,S.jsx)(Z.Z,{title:"Dashboard",subtitle:"Datenvisualisierung der Umsatzst\xe4rksten Online-Shops aus dem Jahr 2021"})}),(0,S.jsxs)(g.Z,{display:"grid",gridTemplateColumns:n?"repeat(6, 1fr)":"repeat(12, 1fr)",gridAutoRows:"140px",gap:"20px",children:[(0,S.jsxs)(g.Z,{gridColumn:"span 8",gridRow:"span 2",backgroundColor:r.primary[400],boxShadow:1,borderRadius:"4px",children:[(0,S.jsx)(g.Z,{mt:"25px",p:"0 30px",display:"flex ",justifyContent:"space-between",alignItems:"center",children:(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(m.Z,{variant:"h5",fontWeight:"600",color:r.grey[100],children:"Gesmte Einnahmen"}),(0,S.jsxs)(m.Z,{variant:"h3",fontWeight:"bold",color:r.greenAccent[500],children:[L," Mio. \u20ac"]})]})}),(0,S.jsx)(g.Z,{height:"250px",m:"-20px 0 0 0",children:(0,S.jsx)(k.Z,{})})]}),(0,S.jsxs)(g.Z,{gridColumn:"span 4",gridRow:"span 2",backgroundColor:r.primary[400],overflow:"auto",boxShadow:1,borderRadius:"4px",children:[(0,S.jsx)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(r.primary[500]),colors:r.grey[100],p:"15px",children:(0,S.jsx)(m.Z,{color:r.grey[100],variant:"h5",fontWeight:"600",children:"Alle Shops"})}),C.map((function(e,n){return(0,S.jsxs)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(r.primary[500]),p:"15px",children:[(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(m.Z,{color:r.greenAccent[500],variant:"h5",fontWeight:"600",children:(0,S.jsx)(v.Z,{href:"https://".concat(e.ShopName),target:"_blank",rel:"noopener noreferrer",underline:"none",color:r.greenAccent[500],children:e.ShopName})}),(0,S.jsx)(m.Z,{color:r.grey[100],children:e.Country})]}),(0,S.jsx)(g.Z,{color:r.grey[100],children:e.Year}),(0,S.jsxs)(g.Z,{backgroundColor:r.greenAccent[500],p:"5px 10px",borderRadius:"4px",color:"black",children:[e.Revenue," Mio. \u20ac"]})]},"".concat(e.ShopName,"-").concat(n))}))]}),(0,S.jsxs)(g.Z,{gridColumn:"span 4",gridRow:"span 2",backgroundColor:r.primary[400],p:"30px",height:"450px",boxShadow:1,borderRadius:"4px",children:[(0,S.jsx)(m.Z,{variant:"h5",fontWeight:"600",children:"Funnel Chart"}),(0,S.jsx)(g.Z,{height:"400px",mt:"5px",children:(0,S.jsx)(w.Z,{})})]}),(0,S.jsxs)(g.Z,{gridColumn:"span 5",gridRow:"span 2",backgroundColor:r.primary[400],height:"450px",boxShadow:1,borderRadius:"4px",children:[(0,S.jsx)(m.Z,{variant:"h5",fontWeight:"600",sx:{padding:"30px 30px 0 30px"},children:"Pie Chart"}),(0,S.jsx)(g.Z,{height:"400px",mt:"-20px",children:(0,S.jsx)(y.Z,{isDashboard:!0})})]}),(0,S.jsxs)(g.Z,{gridColumn:"span 3",gridRow:"span 2",backgroundColor:r.primary[400],overflow:"auto",boxShadow:1,borderRadius:"4px",height:"450px",children:[(0,S.jsx)(m.Z,{variant:"h5",fontWeight:"600",sx:{padding:"30px 30px 0 30px"},color:r.greenAccent[500],fontSize:20,children:"Hinweise und Anmerkungen"}),(0,S.jsx)(g.Z,{height:"200px",mt:"-20px",children:(0,S.jsxs)(m.Z,{m:"30px",fontSize:16,children:["Der ",(0,S.jsx)(v.Z,{color:r.greenAccent[400],target:"_blank",rel:"noopener noreferrer",underline:"none",href:"https://ecommercedb.com/",children:"E-Commerce-Markt"})," umfasst den Verkauf von physischen G\xfctern \xfcber einen digitalen Kanal an private Endnutzer (B2C).",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"In die Betrachtung flie\xdfen sowohl K\xe4ufe \xfcber Desktop-Computer (inkl. Notebooks oder Laptops) als auch K\xe4ufe \xfcber mobile Endger\xe4te wie Smartphones oder Tablets ein.",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"Nicht enthalten sind ausschlie\xdfliche Marktpl\xe4tze, digital vertriebene Dienstleistungen (siehe hierf\xfcr: eServices), digitale Medieninhalte als Download oder Stream, digital vertriebene G\xfcter in B2B-M\xe4rkten sowie der digitale An- oder Weiterverkauf von gebrauchter, defekter oder reparierter Ware (re-commerce und C2C).",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"Alle monet\xe4ren Werte beziehen sich auf Netto-Ums\xe4tze, Versandkosten werden nicht ber\xfccksichtigt.",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"F\xfcr weitere Informationen besuchen Sie bitte die ",(0,S.jsx)(v.Z,{color:r.greenAccent[400],target:"_blank",rel:"noopener noreferrer",underline:"none",href:"https://ecommercedb.com/",children:"Methodik Seite auf ecommerceDB.com"}),".",(0,S.jsx)("br",{})]})})]})]})]})}}}]);
//# sourceMappingURL=667.e4455a5e.chunk.js.map