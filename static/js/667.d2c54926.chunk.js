"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[667],{9878:function(e,n,r){var t=r(3433),i=r(4165),o=r(5861),a=r(9439),s=r(2949),c=r(1607),u=r(3967),l=r(2791),d=r(8846),f=r(184);n.Z=function(e){var n=e.isDashboard,r=void 0!==n&&n,p=(0,u.Z)(),h=(0,c.TV)(p.palette.mode),x=(0,l.useState)([]),g=(0,a.Z)(x,2),m=g[0],v=g[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:n=e.sent,v(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.kv)((function(e){var n=m.findIndex((function(n){return n.id===e.ShopName}));if(n>=0){var r=(0,t.Z)(m);r[n]={id:e.ShopName,value:e.Revenue},v(r)}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.length>0&&e()}),[m]),(0,f.jsx)(s.jM,{data:m,theme:{axis:{domain:{line:{stroke:h.grey[100]}},legend:{text:{fill:h.grey[100]}},ticks:{line:{stroke:h.grey[100],strokeWidth:1},text:{fill:h.grey[100]}}},legends:{text:{fill:h.grey[100]}},tooltip:{container:{background:h.grey[900],color:h.grey[100]}}},margin:{top:30,right:40,bottom:50,left:70},padding:.4,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"value"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker","1.6"]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:r?void 0:"Shop Name",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:r?void 0:"Einnahmen",legendPosition:"middle",legendOffset:-55},enableLabel:!0,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15})}},657:function(e,n,r){var t=r(3433),i=r(4165),o=r(5861),a=r(9439),s=r(2242),c=r(1607),u=r(3967),l=r(2791),d=r(8846),f=r(184);n.Z=function(){var e=(0,u.Z)(),n=(0,c.TV)(e.palette.mode),r=(0,l.useState)([{id:"0",value:0}]),p=(0,a.Z)(r,2),h=p[0],x=p[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:n=e.sent,x(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.kv)((function(e){var n=h.findIndex((function(n){return n.id===e.ShopName}));if(n>=0){var r=(0,t.Z)(h);r[n]={id:e.ShopName,value:e.Revenue},x(r)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h.length>0&&e()}),[h]),(0,f.jsx)(s.mj,{data:h,theme:{axis:{domain:{line:{stroke:n.grey[100]}},legend:{text:{fill:n.grey[100]}},ticks:{line:{stroke:n.grey[100],strokeWidth:1},text:{fill:n.grey[100]}}},legends:{text:{fill:n.grey[100]}},tooltip:{container:{background:n.grey[900],color:n.grey[100]}}},margin:{top:5,right:5,bottom:20,left:20},valueFormat:">-.3s",colors:{scheme:"paired"},borderWidth:8,labelColor:{from:"color",modifiers:[["darker",3]]},beforeSeparatorLength:5,beforeSeparatorOffset:5,afterSeparatorLength:5,afterSeparatorOffset:5,currentPartSizeExtension:15,currentBorderWidth:8,motionConfig:"wobbly"})}},7084:function(e,n,r){var t=r(3967),i=r(4554),o=r(890),a=r(1607),s=r(184);n.Z=function(e){var n=e.title,r=e.subtitle,c=(0,t.Z)(),u=(0,a.TV)(c.palette.mode);return(0,s.jsxs)(i.Z,{mb:"30px",children:[(0,s.jsx)(o.Z,{variant:"h2",color:u.grey[100],fontWeight:"bold",sx:{m:"0 0 5px 0"},children:n}),(0,s.jsx)(o.Z,{variant:"h5",color:u.greenAccent[400],children:r})]})}},1329:function(e,n,r){var t=r(3433),i=r(4165),o=r(5861),a=r(9439),s=r(3830),c=r(1607),u=r(3967),l=r(2791),d=r(8846),f=r(184);n.Z=function(e){var n=e.isDashboard,r=void 0!==n&&n,p=(0,u.Z)(),h=(0,c.TV)(p.palette.mode),x=(0,l.useState)([]),g=(0,a.Z)(x,2),m=g[0],v=g[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)();case 2:n=e.sent,v(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.kv)((function(e){var n=m.findIndex((function(n){return n.id===e.ShopName}));if(n>=0){var r=(0,t.Z)(m);r[n]={id:e.ShopName,value:e.Revenue},v(r)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.length>0&&e()}),[m]),(0,f.jsx)(s.Y2,{data:m,theme:{fontSize:r?12:14,axis:{domain:{line:{stroke:h.grey[100]}},legend:{text:{fill:h.grey[100]}},ticks:{line:{stroke:h.grey[100],strokeWidth:1},text:{fill:h.grey[100]}}},legends:{text:{fill:h.grey[100]}},tooltip:{container:{background:h.grey[900],color:h.grey[100]}}},margin:{top:r?20:30,right:r?110:80,bottom:r?20:80,left:r?140:80},innerRadius:.5,padAngle:.7,cornerRadius:5,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:r?12:9,arcLinkLabelsTextColor:h.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,colors:{scheme:"paired"},legends:r?[]:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:120,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:14,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})}},8846:function(e,n,r){r.d(n,{Df:function(){return Z},G:function(){return v},gf:function(){return y},kv:function(){return g}});var t=r(4165),i=r(5861),o=r(6296),a=r(2178),s="DBDatabase",c="Top10",u="10Shops",l=new a.gV("data-uilqj"),d=a.cN.apiKey("7PodJEFumzYtvIBgsWkiBMp5N1ifzHkrRMO9XTvRSxVBH5TIq5kJdXhLxE7RKWKM");function f(){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=4;break}return console.error("app is not defined"),e.abrupt("return");case 4:return e.next=6,l.logIn(d);case 6:return(r=e.sent).id!==(null===(n=l.currentUser)||void 0===n?void 0:n.id)&&console.error("User is not logged in"),console.log("User logged in:",r),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to log in",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function h(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=l.currentUser)||void 0===n){e.next=4;break}e.t0=n,e.next=7;break;case 4:return e.next=6,f();case 6:e.t0=e.sent;case 7:if(r=e.t0,i=r.mongoClient(s),o=i.db(c)){e.next=12;break}throw new Error("Failed to connect to database ".concat(c));case 12:if(a=o.collection(u)){e.next=15;break}throw new Error("Failed to connect to collection ".concat(u));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,a,s,c,u,l,d,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:return r=e.sent,e.next=6,r.watch();case 6:i=e.sent,a=!1,s=!1,e.prev=9,u=(0,o.Z)(i);case 11:return e.next=13,u.next();case 13:if(!(a=!(l=e.sent).done)){e.next=23;break}return d=l.value,e.next=17,r.findOne({_id:d.documentKey._id});case 17:f=e.sent,"function"===typeof n&&n(f),console.log("Data changed:",f);case 20:a=!1,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(9),s=!0,c=e.t0;case 29:if(e.prev=29,e.prev=30,!a||null==u.return){e.next=34;break}return e.next=34,u.return();case 34:if(e.prev=34,!s){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",(function(){i.close()}));case 42:e.prev=42,e.t1=e.catch(0),console.error("Failed to watch collection",e.t1);case 45:case"end":return e.stop()}}),e,null,[[0,42],[9,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function v(){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,n.aggregate([{$sort:{Revenue:-1}},{$project:{_id:0,id:"$ShopName",label:"$ShopName",value:"$Revenue"}}]);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,n.aggregate([{$group:{_id:null,sum:{$sum:"$Revenue"}}}]);case 5:return r=e.sent,e.abrupt("return",r[0].sum);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,n.aggregate([{$project:{ShopName:1,Country:1,Revenue:1,Year:1}},{$sort:{Revenue:-1}}]);case 5:return r=e.sent,console.log("DataShops:",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9667:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(3433),i=r(4165),o=r(5861),a=r(9439),s=r(3967),c=r(2791),u=r.t(c,2),l=r(9120),d=r(1537),f=r(162);function p(e,n,r,t,i){var o=c.useState((function(){return i&&r?r(e).matches:t?t(e).matches:n})),s=(0,a.Z)(o,2),u=s[0],l=s[1];return(0,f.Z)((function(){var n=!0;if(r){var t=r(e),i=function(){n&&l(t.matches)};return i(),t.addListener(i),function(){n=!1,t.removeListener(i)}}}),[e,r]),u}var h=u.useSyncExternalStore;function x(e,n,r,t,i){var o=c.useCallback((function(){return n}),[n]),s=c.useMemo((function(){if(i&&r)return function(){return r(e).matches};if(null!==t){var n=t(e).matches;return function(){return n}}return o}),[o,e,t,i,r]),u=c.useMemo((function(){if(null===r)return[o,function(){return function(){}}];var n=r(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[o,r,e]),l=(0,a.Z)(u,2),d=l[0],f=l[1];return h(f,d,s)}var g=r(4554),m=r(890),v=r(533),b=r(1607),Z=r(7084),k=r(9878),y=r(1329),w=r(657),S=r(8846),j=r(184),C=function(){var e=(0,s.Z)(),n=(0,b.TV)(e.palette.mode),r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,l.Z)(),t="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,i=(0,d.Z)({name:"MuiUseMediaQuery",props:n,theme:r}),o=i.defaultMatches,a=void 0!==o&&o,s=i.matchMedia,c=void 0===s?t?window.matchMedia:null:s,u=i.ssrMatchMedia,f=void 0===u?null:u,g=i.noSsr,m=void 0!==g&&g,v="function"===typeof e?e(r):e;return v=v.replace(/^@media( ?)/m,""),(void 0!==h?x:p)(v,a,c,f,m)}("(max-width:768px)"),u=(0,c.useState)([]),f=(0,a.Z)(u,2),C=f[0],R=f[1],W=(0,c.useState)(0),L=(0,a.Z)(W,2),M=L[0],N=L[1],E=(0,c.useState)(!1),D=(0,a.Z)(E,2),T=D[0],z=D[1],A=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.gf)();case 2:return n=e.sent,e.next=5,(0,S.Df)();case 5:r=e.sent,console.log("inital: ",n),R(n),N(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,S.kv)((function(e){var n=C.findIndex((function(n){return n.ShopName===e.ShopName}));if(console.log("ShopUpdated",n),n>=0){var r=(0,t.Z)(C);r[n]=e,R(r),z(!0)}})),!T){e.next=7;break}return e.next=4,(0,S.Df)();case 4:n=e.sent,N(n),z(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){A()}),[]),(0,c.useEffect)((function(){C.length>0&&B()}),[C,B]),(0,j.jsxs)(g.Z,{m:"20px",children:[(0,j.jsx)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,j.jsx)(Z.Z,{title:"Dashboard",subtitle:"Datenvisualisierung der Umsatzst\xe4rksten Online-Shops aus dem Jahr 2021"})}),(0,j.jsxs)(g.Z,{display:"grid",gridTemplateColumns:r?"repeat(6, 1fr)":"repeat(12, 1fr)",gridAutoRows:"140px",gap:"20px",children:[(0,j.jsxs)(g.Z,{gridColumn:"span 8",gridRow:"span 2",backgroundColor:n.primary[400],boxShadow:1,borderRadius:"4px",children:[(0,j.jsx)(g.Z,{mt:"25px",p:"0 30px",display:"flex ",justifyContent:"space-between",alignItems:"center",children:(0,j.jsxs)(g.Z,{children:[(0,j.jsx)(m.Z,{variant:"h5",fontWeight:"600",color:n.grey[100],children:"Gesmte Einnahmen"}),(0,j.jsxs)(m.Z,{variant:"h3",fontWeight:"bold",color:n.greenAccent[500],children:[M," Mio. \u20ac"]})]})}),(0,j.jsx)(g.Z,{height:"250px",m:"-20px 0 0 0",children:(0,j.jsx)(k.Z,{})})]}),(0,j.jsxs)(g.Z,{gridColumn:"span 4",gridRow:"span 2",backgroundColor:n.primary[400],overflow:"auto",boxShadow:1,borderRadius:"4px",children:[(0,j.jsx)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(n.primary[500]),colors:n.grey[100],p:"15px",children:(0,j.jsx)(m.Z,{color:n.grey[100],variant:"h5",fontWeight:"600",children:"Alle Shops"})}),C.map((function(e,r){return(0,j.jsxs)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(n.primary[500]),p:"15px",children:[(0,j.jsxs)(g.Z,{children:[(0,j.jsx)(m.Z,{color:n.greenAccent[500],variant:"h5",fontWeight:"600",children:(0,j.jsx)(v.Z,{href:"https://".concat(e.ShopName),target:"_blank",rel:"noopener noreferrer",underline:"none",color:n.greenAccent[500],children:e.ShopName})}),(0,j.jsx)(m.Z,{color:n.grey[100],children:e.Country})]}),(0,j.jsx)(g.Z,{color:n.grey[100],children:e.Year}),(0,j.jsxs)(g.Z,{backgroundColor:n.greenAccent[500],p:"5px 10px",borderRadius:"4px",color:"black",children:[e.Revenue," Mio. \u20ac"]})]},"".concat(e.ShopName,"-").concat(r))}))]}),(0,j.jsxs)(g.Z,{gridColumn:"span 4",gridRow:"span 2",backgroundColor:n.primary[400],p:"30px",height:"450px",boxShadow:1,borderRadius:"4px",children:[(0,j.jsx)(m.Z,{variant:"h5",fontWeight:"600",children:"Funnel Chart"}),(0,j.jsx)(g.Z,{height:"400px",mt:"5px",children:(0,j.jsx)(w.Z,{})})]}),(0,j.jsxs)(g.Z,{gridColumn:"span 5",gridRow:"span 2",backgroundColor:n.primary[400],height:"450px",boxShadow:1,borderRadius:"4px",children:[(0,j.jsx)(m.Z,{variant:"h5",fontWeight:"600",sx:{padding:"30px 30px 0 30px"},children:"Pie Chart"}),(0,j.jsx)(g.Z,{height:"400px",mt:"-20px",children:(0,j.jsx)(y.Z,{isDashboard:!0})})]}),(0,j.jsxs)(g.Z,{gridColumn:"span 3",gridRow:"span 2",backgroundColor:n.primary[400],overflow:"auto",boxShadow:1,borderRadius:"4px",height:"450px",children:[(0,j.jsx)(m.Z,{variant:"h5",fontWeight:"600",sx:{padding:"30px 30px 0 30px"},color:n.greenAccent[500],fontSize:20,children:"Hinweise und Anmerkungen"}),(0,j.jsx)(g.Z,{height:"200px",mt:"-20px",children:(0,j.jsxs)(m.Z,{m:"30px",fontSize:16,children:["Der E-Commerce-Markt umfasst den Verkauf von physischen G\xfctern \xfcber einen digitalen Kanal an private Endnutzer (B2C).",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"In die Betrachtung flie\xdfen sowohl K\xe4ufe \xfcber Desktop-Computer (inkl. Notebooks oder Laptops) als auch K\xe4ufe \xfcber mobile Endger\xe4te wie Smartphones oder Tablets ein.",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"Nicht enthalten sind ausschlie\xdfliche Marktpl\xe4tze, digital vertriebene Dienstleistungen (siehe hierf\xfcr: eServices), digitale Medieninhalte als Download oder Stream, digital vertriebene G\xfcter in B2B-M\xe4rkten sowie der digitale An- oder Weiterverkauf von gebrauchter, defekter oder reparierter Ware (re-commerce und C2C).",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"Alle monet\xe4ren Werte beziehen sich auf Netto-Ums\xe4tze, Versandkosten werden nicht ber\xfccksichtigt."]})})]})]})]})}}}]);
//# sourceMappingURL=667.d2c54926.chunk.js.map