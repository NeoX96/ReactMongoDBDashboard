"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[15],{7084:function(e,t,r){var n=r(3967),a=r(4554),o=r(890),c=r(1607),i=r(184);t.Z=function(e){var t=e.title,r=e.subtitle,s=(0,n.Z)(),u=(0,c.TV)(s.palette.mode);return(0,i.jsxs)(a.Z,{mb:"30px",children:[(0,i.jsx)(o.Z,{variant:"h2",color:u.grey[100],fontWeight:"bold",sx:{m:"0 0 5px 0"},children:t}),(0,i.jsx)(o.Z,{variant:"h5",color:u.greenAccent[400],children:r})]})}},1329:function(e,t,r){var n=r(3433),a=r(4165),o=r(5861),c=r(9439),i=r(3830),s=r(1607),u=r(3967),l=r(2791),p=r(8846),f=r(184);t.Z=function(e){var t=e.isDashboard,r=void 0!==t&&t,d=(0,u.Z)(),h=(0,s.TV)(d.palette.mode),v=(0,l.useState)([]),x=(0,c.Z)(v,2),g=x[0],m=x[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.G)();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.kv)((function(e){var t=g.findIndex((function(t){return t.id===e.ShopName}));if(t>=0){var r=(0,n.Z)(g);r[t]={id:e.ShopName,value:e.Revenue},m(r)}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g.length>0&&e()}),[g]),(0,f.jsx)(i.Y2,{data:g,theme:{fontSize:r?12:14,axis:{domain:{line:{stroke:h.grey[100]}},legend:{text:{fill:h.grey[100]}},ticks:{line:{stroke:h.grey[100],strokeWidth:1},text:{fill:h.grey[100]}}},legends:{text:{fill:h.grey[100]}},tooltip:{container:{background:h.grey[900],color:h.grey[100]}}},margin:{top:r?20:30,right:r?110:80,bottom:r?20:80,left:r?140:80},innerRadius:.5,padAngle:.7,cornerRadius:5,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:r?12:9,arcLinkLabelsTextColor:h.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,colors:{scheme:"paired"},legends:r?[]:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:120,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:14,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})}},8846:function(e,t,r){r.d(t,{Df:function(){return k},G:function(){return m},gf:function(){return y},kv:function(){return x}});var n=r(4165),a=r(5861),o=r(6296),c=r(2178),i="DBDatabase",s="Top10",u="10Shops",l=new c.gV("data-uilqj"),p=c.cN.apiKey("7PodJEFumzYtvIBgsWkiBMp5N1ifzHkrRMO9XTvRSxVBH5TIq5kJdXhLxE7RKWKM");function f(){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=4;break}return console.error("app is not defined"),e.abrupt("return");case 4:return e.next=6,l.logIn(p);case 6:return(r=e.sent).id!==(null===(t=l.currentUser)||void 0===t?void 0:t.id)&&console.error("User is not logged in"),console.log("User logged in:",r),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to log in",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=l.currentUser)||void 0===t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,f();case 6:e.t0=e.sent;case 7:if(r=e.t0,a=r.mongoClient(i),o=a.db(s)){e.next=12;break}throw new Error("Failed to connect to database ".concat(s));case 12:if(c=o.collection(u)){e.next=15;break}throw new Error("Failed to connect to collection ".concat(u));case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,c,i,s,u,l,p,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:return r=e.sent,e.next=6,r.watch();case 6:a=e.sent,c=!1,i=!1,e.prev=9,u=(0,o.Z)(a);case 11:return e.next=13,u.next();case 13:if(!(c=!(l=e.sent).done)){e.next=23;break}return p=l.value,e.next=17,r.findOne({_id:p.documentKey._id});case 17:f=e.sent,"function"===typeof t&&t(f),console.log("Data changed:",f);case 20:c=!1,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(9),i=!0,s=e.t0;case 29:if(e.prev=29,e.prev=30,!c||null==u.return){e.next=34;break}return e.next=34,u.return();case 34:if(e.prev=34,!i){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",(function(){a.close()}));case 42:e.prev=42,e.t1=e.catch(0),console.error("Failed to watch collection",e.t1);case 45:case"end":return e.stop()}}),e,null,[[0,42],[9,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function m(){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,t.aggregate([{$sort:{Revenue:-1}},{$project:{_id:0,id:"$ShopName",label:"$ShopName",value:"$Revenue"}}]);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,t.aggregate([{$group:{_id:null,sum:{$sum:"$Revenue"}}}]);case 5:return r=e.sent,e.abrupt("return",r[0].sum);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,t.aggregate([{$project:{ShopName:1,Country:1,Revenue:1,Year:1}},{$sort:{Revenue:-1}}]);case 5:return r=e.sent,console.log("DataShops:",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8015:function(e,t,r){r.r(t);var n=r(4554),a=r(7084),o=r(1329),c=r(184);t.default=function(){return(0,c.jsxs)(n.Z,{m:"20px",children:[(0,c.jsx)(a.Z,{title:"Pie Chart",subtitle:"Simple Pie Chart"}),(0,c.jsx)(n.Z,{height:"75vh",children:(0,c.jsx)(o.Z,{})})]})}}}]);
//# sourceMappingURL=15.e71436a7.chunk.js.map